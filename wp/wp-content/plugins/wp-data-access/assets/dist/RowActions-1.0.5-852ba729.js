import{l as r,r as E,bq as f,j as i,b$ as R,e as s,C as a}from"./main-1.0.5.js";import{u as A,B as P,T as l,a3 as g,G as V,af as T,i as B,a1 as M}from"./main-1.0.5-a7d73e33.js";import{C as O}from"./settings-1.0.5-a609f2d7.js";import{d as S}from"./ActionsDml-1.0.5-5478d97e.js";import{I as p}from"./iconBase-1.0.5-f30be7a9.js";import"./FormControlLabel-1.0.5-d0651878.js";import"./TextField-1.0.5-7ecf712b.js";import"./Close-1.0.5-697e5a3b.js";import"./DialogContent-1.0.5-383cf0b4.js";import"./AdminTheme-1.0.5-04bcac94.js";import"./Tabs-1.0.5-8b2f6dd8.js";const N=({metaData:o,appId:n,rowId:e,rowData:u,storeTableSettings:c,showForm:d,refetch:y})=>{var h,j;r.debug(o,n,e,u);const C=A(),[k,m]=E.useState(!1),x=Object.keys(e).length>0,b=c.viewLink,v=!f(o)&&((h=o==null?void 0:o.privs)==null?void 0:h.update)&&c.transactions.update&&x,w=!f(o)&&((j=o==null?void 0:o.privs)==null?void 0:j.delete)&&c.transactions.delete&&x;return i.jsxs(P,{sx:{position:"sticky",display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"space-around",alignItems:"center",gap:"5px"},children:[b&&i.jsx(l,{title:"View Row",children:i.jsx(p,{color:"primary",onClick:t=>{Object.keys(e).length===0&&C(R({appId:n,data:u,context:null})),d(e,g.VIEW),t.stopPropagation()},children:i.jsx(V,{})})}),v&&i.jsx(l,{title:"Edit Row",children:i.jsx(p,{color:"primary",onClick:t=>{d(e,g.UPDATE),t.stopPropagation()},children:i.jsx(T,{})})}),w&&i.jsxs(i.Fragment,{children:[i.jsx(l,{title:"Delete Row",children:i.jsx(p,{color:"error",onClick:t=>{m(!0),t.stopPropagation()},children:i.jsx(B,{})})}),i.jsx(O,{title:"Delete row?",message:"Are you sure you want to delete this row? This action cannot be undone!",open:k,setOpen:m,onConfirm:()=>{S(n,e,t=>{if(t!=null&&t.code&&(t!=null&&t.message))switch(t.code){case"ok":s(t.message,{variant:"success"}),y();break;default:r.error(t),s(t.message??a.contactSupport,{variant:"error"})}else r.error(t),s(a.contactSupport,{variant:"error"})},t=>{r.error("error",t),s(t??a.contactSupport,{variant:"error"})})},theme:M})]})]})};export{N as default};
